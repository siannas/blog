import{_,m as n,v as C,p as k,G as v,ad as w,c as r,o as i,a as l,t as c,a5 as S,s as y,d as h,b as H,n as B}from"./QrSXNkyt.js";const T={class:"prose-code-container"},z={class:"code-header flex justify-between items-center px-4 py-2 bg-gray-800 rounded-t-lg"},E={class:"code-language text-sm font-medium text-gray-300"},F={key:0,class:"header-buttons"},N=["aria-label"],P=["aria-label"],V=["aria-label"],j={key:0,class:"gradient-overlay absolute bottom-0 left-0 right-0 h-6 pointer-events-none",style:{background:"linear-gradient(to top, rgba(31, 41, 55, 0.9), transparent)"}},G={__name:"ProsePre",props:{code:{type:String,default:""},language:{type:String,default:null},filename:{type:String,default:null},highlights:{type:Array,default:()=>[]},meta:{type:String,default:null},class:{type:String,default:null}},setup(d){const f=d,e=n(!1),t=n(null);n("");const o=n(!1),u=n(!1),b=async()=>{e.value=!e.value,!e.value&&t.value&&(await v(),t.value.style.maxHeight=t.value.scrollHeight+"px")},p=async()=>{try{await navigator.clipboard.writeText(f.code),o.value=!0,setTimeout(()=>{o.value=!1},2e3)}catch(s){console.error("Failed to copy code: ",s)}},m=C(()=>t.value&&t.value.scrollHeight>80);return k(async()=>{if(await v(),t.value){const s=t.value.querySelector("pre");if(s){const a=window.getComputedStyle(s),g=parseFloat(a.fontSize),x=(parseFloat(a.lineHeight)||g*1.5)*5;t.value.scrollHeight>x?(e.value=!0,u.value=!0):(e.value=!1,u.value=!1)}}}),(s,a)=>{const g=w("highlightjs");return i(),r("div",T,[l("div",z,[l("div",E,c(d.language),1),m.value?(i(),r("div",F,[l("button",{class:"copy-button text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 px-2 py-1 rounded transition-colors mr-2","aria-label":o.value?"Copied!":"Copy code",onClick:p},c(o.value?"Copied!":"Copy"),9,N),l("button",{class:"toggle-button text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 px-2 py-1 rounded transition-colors","aria-label":e.value?"Expand code block":"Collapse code block",onClick:b},c(e.value?"Expand":"Collapse"),9,P)])):(i(),r("button",{key:1,class:"copy-button text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 px-2 py-1 rounded transition-colors","aria-label":o.value?"Copied!":"Copy code",onClick:p},c(o.value?"Copied!":"Copy"),9,V))]),l("div",{ref_key:"codeBlockRef",ref:t,class:y([{"code-block":!0,"overflow-hidden":e.value,"rounded-b-lg":!e.value},"transition-all duration-300 overflow-hidden relative"]),style:B({maxHeight:e.value?"calc(5 * 1.5em)":"none"})},[l("pre",{class:y(["rounded-t-none! m-0! mb-4!",e.value?"overflow-x-hidden":"overflow-x-auto","relative"])},[a[0]||(a[0]=h("        ",-1)),H(g,{language:"csharp",code:d.code},null,8,["code"]),a[1]||(a[1]=h(`
      `,-1))],2),e.value&&u.value?(i(),r("div",j)):S("",!0)],6)])}}},A=_(G,[["__scopeId","data-v-a444e660"]]);export{A as default};
